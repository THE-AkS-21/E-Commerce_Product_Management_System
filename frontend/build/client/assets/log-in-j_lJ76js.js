import{w}from"./with-props-5nfPBK-j.js";import{a as s,o as e,p as j}from"./chunk-D4RADZKF-CEFUjEjZ.js";import{u as N}from"./useAuth-CWQz8NCq.js";import"./utils-mUqetfhN.js";import"./authContext-DwKCA1uB.js";import"./axiosAuthInterceptor-pnhKdU3P.js";import{B as x}from"./button.component-B0WLNDez.js";import"./template-DP_y5Sm2.js";import"./index-DIYeVvcV.js";const v=({onComplete:o})=>{const[a,i]=s.useState(""),t="COSMOS";return s.useEffect(()=>{let r=0;const n=setInterval(()=>{i(t.substring(0,r)),r++,r>t.length&&(clearInterval(n),setTimeout(()=>{o()},100))},200);return()=>clearInterval(n)},[o]),e.jsxs("div",{className:"fixed inset-0 z-50 bg-white text-gray-600 flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"mb-4 text-4xl font-mono font-bold",children:[a," ",e.jsx("span",{className:"animate-blink ml-1 text-gray-800",children:"|"})]}),e.jsx("div",{className:"w-[200px] h-[2px] rounded relative overflow-hidden",children:e.jsx("div",{className:"w-[40%] h-full shadow-[0_0_15px_#3b82f6] text-primary-100 animate-loading-bar"})})]})},b=()=>{const{login:o}=N(),[a,i]=s.useState(""),[t,r]=s.useState(""),[n,c]=s.useState(!1),[h,d]=s.useState(!1),[m,p]=s.useState(""),u=j(),g=async()=>{if(!a||!t){p("Please enter both username and password.");return}c(!0);try{await o(a,t),console.log("Login Successful! âœ…"),d(!0),setTimeout(()=>{d(!1),u("/dashboard")},2e3)}catch(l){console.error("Login failed:",l),p("Invalid username or password. Please try again.")}finally{c(!1)}},f=async()=>{u("/register")};return h?e.jsx(v,{onComplete:()=>{}}):e.jsx("main",{className:"auth",children:e.jsx("section",{className:"size-full glassmorphism flex-center px-6",children:e.jsx("div",{className:"sign-in-card",children:e.jsx("header",{className:"header",children:e.jsx("section",{className:"mt-2.5 wrapper-md",children:e.jsx("form",{className:"product-form",children:e.jsxs("div",{children:[e.jsx("input",{type:"text",value:a,id:"username",onChange:l=>i(l.target.value),placeholder:"Username",className:"form-input placeholder:Text-gray-100"}),e.jsx("input",{type:"password",id:"password",value:t,onChange:l=>r(l.target.value),placeholder:"Password",className:"form-input placeholder:Text-gray-100"}),m&&e.jsx("p",{className:"text-red-500 text-xs mt-2",children:m}),e.jsx(x,{type:"button",className:"button-class !bg-primary-100 !h-11 !w-full md:w-[240px]",onClick:g,disabled:n,children:e.jsx("span",{className:"p-16-semibold text-white",children:n?"Logging in...":"SIGN IN"})}),e.jsx(x,{type:"button",className:"button-class !bg-primary-100 !h-11 !w-full md:w-[240px]",onClick:f,children:e.jsx("span",{className:"p-16-semibold text-white",children:"REGISTER"})})]})})})})})})})},k=w(b);export{k as default};

import{w as N}from"./with-props-5nfPBK-j.js";import{a,p as y,o as e}from"./chunk-D4RADZKF-CEFUjEjZ.js";import{r as w}from"./auth-api-ClrK1Plw.js";import{r as v}from"./index-B-PAt9DZ.js";import{B as p}from"./button.component-B0WLNDez.js";import"./utils-mUqetfhN.js";import"./template-DP_y5Sm2.js";import"./index-DIYeVvcV.js";const R=()=>{const[t,u]=a.useState(""),[r,h]=a.useState(""),[l,g]=a.useState(""),[o,x]=a.useState(""),[n,c]=a.useState(!1),[m,i]=a.useState(null),d=y(),f=async()=>{d("/")},j=async()=>{if(!t||!r||!l||!o){i("All fields are required.");return}c(!0),i(null);try{await w({username:t,email:r,password:l,role:o}),console.log("Registration successful! âœ…"),alert("Registration successful! Please log in."),d("/log-in")}catch(s){console.error("Registration failed:",s),i("Registration failed. Please try again.")}finally{c(!1)}};return e.jsx("main",{className:"auth",children:e.jsx("section",{className:"size-full glassmorphism flex-center px-6",children:e.jsx("div",{className:"sign-in-card",children:e.jsx("header",{className:"header",children:e.jsx("section",{className:"mt-2.5 wrapper-md",children:e.jsx("form",{className:"product-form",children:e.jsxs("div",{children:[e.jsx("input",{type:"text",value:t,id:"username",onChange:s=>u(s.target.value),placeholder:"Username",className:"form-input placeholder:Text-gray-100"}),e.jsx("input",{type:"email",value:r,id:"email",onChange:s=>h(s.target.value),placeholder:"E-mail",className:"form-input placeholder:Text-gray-100"}),e.jsx("input",{type:"password",id:"password",value:l,onChange:s=>g(s.target.value),placeholder:"Password",className:"form-input placeholder:Text-gray-100"}),e.jsxs("select",{id:"role",value:o,onChange:s=>x(s.target.value),className:"form-input placeholder:Text-gray-100",children:[e.jsx("option",{value:"",disabled:!0,children:"Select Role"}),v.map(s=>e.jsx("option",{value:s,children:s},s))]}),m&&e.jsx("p",{className:"text-red-500 text-xs mt-2",children:m}),e.jsx(p,{type:"button",className:"button-class !bg-primary-100 !h-11 !w-full md:w-[240px]",onClick:j,disabled:n,children:e.jsx("span",{className:"p-16-semibold text-white",children:n?"Registering...":"REGISTER"})}),e.jsx(p,{type:"button",className:"button-class !bg-primary-100 !h-11 !w-full md:w-[240px] ",onClick:f,children:e.jsx("span",{className:"p-16-semibold text-white",children:"SIGN IN"})})]})})})})})})})},k=N(R);export{k as default};

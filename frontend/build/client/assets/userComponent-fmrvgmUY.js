import{a as s}from"./chunk-D4RADZKF-CEFUjEjZ.js";import{l as o,a as u,d as n}from"./utils-mUqetfhN.js";const l="http://backend:5000User",h=async()=>{o("getAllUsers","Fetching all users");try{const t=await u.get(`${l}/Get`);return o("getAllUsers → Response",t.data),await n(300),t.data}catch(t){throw console.error("Error fetching users:",t),t}},g=async()=>{o("getUsersCount","Fetching total user count");try{const t=await u.get(`${l}/Get/count`);return o("getUsersCount → Response",t.data),await n(300),t.data.totalUsers}catch(t){throw console.error("Error fetching user count:",t),t}},d=()=>{const[t,a]=s.useState(0);return s.useEffect(()=>{(async()=>{try{const e=await g();console.log("Fetched user count:",e),a(e)}catch(e){console.error("Error fetching user count:",e)}})()},[]),t},p=()=>{const[t,a]=s.useState([]),[c,e]=s.useState(null);return s.useEffect(()=>{(async()=>{try{const r=await h();console.log("Fetched all users:",r),await n(300),a(r)}catch(r){console.error("Error fetching users:",r),e("Failed to load users")}})()},[]),{users:t,error:c}};export{p as A,d as U};

import{w as h}from"./with-props-5nfPBK-j.js";import{o as s,t as g,a as f,N as j}from"./chunk-D4RADZKF-CEFUjEjZ.js";import"./utils-mUqetfhN.js";import"./authContext-DwKCA1uB.js";import{H as b}from"./Header-BRpT-8A_.js";import{P as N}from"./ProductCard-jHbfvcMz.js";import{C}from"./categoryComponent-08yfEJr3.js";import{P,A as v}from"./ProductComponent-DuU1GyGy.js";import{U as y}from"./userComponent-fmrvgmUY.js";import{u as w}from"./useAuth-CWQz8NCq.js";import"./button.component-B0WLNDez.js";import"./template-DP_y5Sm2.js";import"./index-DIYeVvcV.js";import"./axiosAuthInterceptor-pnhKdU3P.js";import"./products-api-CvKkBCNi.js";const m=({headerTitle:t,total:c,img:a,ctaUrl:o})=>s.jsx(g,{to:o,className:"stats-card border-white/10 hover:-translate-y-1 hover:border-blue-500/30 hover:shadow-[0_2px_8px_rgba(59,130,246,0.2)] transition",children:s.jsxs("article",{children:[s.jsx("h3",{className:"text-base font-large",children:t}),s.jsxs("div",{className:"content",children:[s.jsx("div",{className:"flex flex-col gap-4",children:s.jsx("h2",{className:"text-4xl font-semibold",children:c})}),s.jsx("img",{src:`/assets/icons/${a}.png`,className:"xl:w-30 w-40 h-40 md:h-32 md:w-30 xl:h-full",alt:a?`${t} icon`:"Missing Icon",onError:l=>l.currentTarget.src="/assets/icons/default.png"})]})]})}),T=()=>s.jsx("div",{className:"flex justify-center items-center h-full",children:s.jsx("div",{className:"spinner-border animate-spin inline-block w-16 h-16 border-4 border-solid rounded-full border-t-transparent border-primary-600",role:"status",children:s.jsx("span",{className:"visually-hidden",children:"Loading..."})})}),U=()=>{const t=C(),c=P(),a=y(),{products:o,error:l,isLoading:u}=v(),{authData:i}=w(),[r,x]=f.useState(1),n=8,d=Math.ceil(o.length/n),p=o.slice((r-1)*n,r*n);return i?u?s.jsx(T,{}):l?s.jsxs("div",{children:["Error loading products: ",l.message]}):s.jsxs("main",{className:"dashboard wrapper",children:[s.jsx(b,{title:`Welcome ${(i==null?void 0:i.username)??"Guest"} 👋🏼`,description:"Welcome to the dashboard"}),s.jsx("section",{className:"flex flex-col gap-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 w-full",children:[s.jsx(m,{headerTitle:"Total Products",total:c,img:"products",ctaUrl:"/all-product"}),s.jsx(m,{headerTitle:"Total Categories",total:t,img:"categories",ctaUrl:"/all-categories"}),s.jsx(m,{headerTitle:"Total Customers",total:a,img:"customer1",ctaUrl:"/all-users"})]})}),s.jsx("section",{className:"flex flex-col gap-6",children:s.jsxs("section",{className:"container",children:[s.jsx("h1",{className:"text-xl font-semibold text-dark-100",children:"PRODUCTS"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 w-full",children:p.length?p.map(e=>s.jsx(N,{product:e},e.id)):s.jsx("p",{children:"No products found."})}),s.jsxs("div",{className:"flex justify-center items-center gap-4 mt-6",children:[s.jsx("button",{onClick:()=>x(e=>Math.max(e-1,1)),disabled:r===1,className:"px-4 py-2 bg-gray-300 rounded disabled:opacity-50",children:"Prev"}),s.jsxs("span",{children:["Page ",r," of ",d]}),s.jsx("button",{onClick:()=>x(e=>Math.min(e+1,d)),disabled:r===d,className:"px-4 py-2 bg-gray-300 rounded disabled:opacity-50",children:"Next"})]})]})})]}):s.jsx(j,{to:"/"})},q=h(U);export{q as default};

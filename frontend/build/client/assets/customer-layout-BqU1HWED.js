import{w as g}from"./with-props-5nfPBK-j.js";import{a,p as h,o as s,t as p,w as j,N as i,O as f}from"./chunk-D4RADZKF-CEFUjEjZ.js";import{a4 as N}from"./utils-mUqetfhN.js";import{A as v}from"./authContext-DwKCA1uB.js";import{M as b,S as w}from"./MobileSidebar-CQ_9ujBj.js";import"./axiosAuthInterceptor-pnhKdU3P.js";import{u as S}from"./index-B-PAt9DZ.js";import"./template-DP_y5Sm2.js";import"./index-DIYeVvcV.js";const I=()=>{const{authData:e,logout:n}=a.useContext(v),[l,t]=a.useState(""),c=h(),m=()=>{n(),console.log("Logging out..."),c("/log-in")};return a.useEffect(()=>{if(e)switch(e.role){case"ADMIN":t("/assets/icons/admin.png");break;default:t("/assets/icons/customer.png")}},[e]),s.jsxs("section",{className:"nav-items",children:[s.jsxs(p,{to:"/dashboard",className:"link-logo",children:[s.jsx("img",{src:"/assets/icons/cosmos.png",alt:"Logo",className:"size-[30px]"}),s.jsx("h1",{children:"COSMOS"})]}),s.jsxs("div",{className:"container",children:[s.jsx("nav",{children:S.map(({id:u,href:d,icon:x,label:r})=>s.jsx(j,{to:d,children:({isActive:o})=>s.jsxs("div",{className:N("group nav-item",{"bg-primary-100 !text-white":o}),children:[s.jsx("img",{src:x,alt:r,className:`group-hover:brightness-0 size-0 group-hover:invert ${o?"brightness-0 invert":"text-dark-200"}`}),r]})},u))}),s.jsxs("footer",{className:"nav-footer",children:[e?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:l||"/assets/icons/default.png",alt:e.username||"User Profile",className:"user-profile-img"}),s.jsxs("article",{children:[s.jsx("h2",{children:e.username}),s.jsx("p",{children:e.role})]})]}):s.jsx("p",{children:"SIGN IN"}),s.jsx("button",{onClick:m,className:"cursor-pointer",children:s.jsx("img",{src:"/assets/icons/logout.svg",alt:"Logout",className:"size-6"})})]})]})]})},L=()=>{if(typeof window>"u")return null;const e=JSON.parse(localStorage.getItem("authData")||"null");return e?e.role==="ADMIN"?s.jsx(i,{to:"/dashboard",replace:!0}):s.jsxs("div",{className:"admin-layout",children:[s.jsx(b,{}),s.jsx("aside",{className:"w-full max-w-[270px] hidden lg:block",children:s.jsxs(w,{width:270,enableGestures:!1,children:[s.jsx(I,{})," "]})}),s.jsxs("aside",{className:"children",children:[s.jsx(f,{})," "]})]}):s.jsx(i,{to:"/log-in",replace:!0})},E=g(L);export{E as default};

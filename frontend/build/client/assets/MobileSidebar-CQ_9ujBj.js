import{a as L,p as W,o,t as P,w as Q}from"./chunk-D4RADZKF-CEFUjEjZ.js";import{s as H}from"./index-B-PAt9DZ.js";import{a4 as X,B as g,b as a,o as d,i as p,s as m,n as S,E as b,J as q,T as _,P as h,q as w,N as G,t as U}from"./utils-mUqetfhN.js";import{A as F}from"./authContext-DwKCA1uB.js";import{a as Z,b as K}from"./template-DP_y5Sm2.js";const $=()=>{const{authData:n,logout:i}=L.useContext(F),[e,t]=L.useState(""),s=W(),r=()=>{console.log("Logging out in 500ms..."),setTimeout(()=>{i(),s("/log-in")},500)};return L.useEffect(()=>{if(n)switch(console.log(`Setting profile icon for role: ${n.role}`),n.role){case"ADMIN":t("/assets/icons/admin.png");break;default:t("/assets/icons/customer.png")}else console.warn("No authenticated user found.")},[n]),o.jsxs("section",{className:"nav-items",children:[o.jsxs(P,{to:"/dashboard",className:"link-logo",children:[o.jsx("img",{src:"/assets/icons/cosmos.png",alt:"Logo",className:"size-[40px]"}),o.jsx("h1",{children:o.jsx("span",{className:"text-gray-600",children:"COSMOS"})})]}),o.jsxs("div",{className:"container",children:[o.jsx("nav",{children:H.map(({id:c,href:y,icon:O,label:B})=>o.jsx(Q,{to:y,children:({isActive:z})=>o.jsxs("div",{className:X("group nav-item",{"bg-primary-100 !text-white":z}),children:[o.jsx("img",{src:O,alt:B,className:`group-hover:brightness-0 size-0 group-hover:invert ${z?"brightness-0 invert":"text-dark-200"}`}),B]})},c))}),o.jsxs("footer",{className:"nav-footer",children:[n?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:e||"/assets/icons/customer.png",alt:n.username}),o.jsxs("article",{children:[o.jsx("h2",{children:n.username}),o.jsx("p",{children:n.role})]})]}):o.jsx("p",{children:"SIGN IN"}),o.jsx("button",{onClick:()=>{r()},className:"cursor-pointer",children:o.jsx("img",{src:"/assets/icons/logout.svg",alt:"Logout",className:"size-6"})})]})]})]})};var J=function(){var n=function(i,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var r in s)s.hasOwnProperty(r)&&(t[r]=s[r])},n(i,e)};return function(i,e){n(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),l=function(n,i,e,t){var s=arguments.length,r=s<3?i:t===null?t=Object.getOwnPropertyDescriptor(i,e):t,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,i,e,t);else for(var y=n.length-1;y>=0;y--)(c=n[y])&&(r=(s<3?c(r):s>3?c(i,e,r):c(i,e))||r);return s>3&&r&&Object.defineProperty(i,e,r),r},V="e-control",R="e-sidebar",Y="e-dock",f="e-close",u="e-open",T="e-transition",A="e-sidebar-overlay",ee="e-rtl",x="e-right",D="e-left",k="e-over",v="e-push",C="e-slide",j="e-visibility",te="e-sidebar-display",ie="e-content-animation",E="e-disable-animation",N="e-sidebar-context",I="e-sidebar-absolute",se=function(n){J(i,n);function i(e,t){var s=n.call(this,e,t)||this;return s.documentClickContext=s.documentclickHandler.bind(s),s}return i.prototype.preRender=function(){this.setWidth()},i.prototype.render=function(){this.initialize(),this.wireEvents(),this.renderComplete()},i.prototype.initialize=function(){this.setTarget(),this.addClass(),this.setZindex(),this.enableDock&&this.setDock(),this.isOpen?(this.show(),this.firstRender=!0):this.setMediaQuery(),this.checkType(!0),this.setType(this.type),this.setCloseOnDocumentClick(),this.setEnableRTL(),g.isDevice&&(this.windowWidth=window.innerWidth)},i.prototype.setEnableRTL=function(){(this.enableRtl?a:d)([this.element],ee)},i.prototype.setTarget=function(){this.targetEle=this.element.nextElementSibling,this.sidebarEleCopy=this.element.cloneNode(!0),typeof this.target=="string"&&this.setProperties({target:document.querySelector(this.target)},!0),this.target&&(this.target.insertBefore(this.element,this.target.children[0]),a([this.element],I),a([this.target],N),this.targetEle=this.getTargetElement())},i.prototype.getTargetElement=function(){for(var e=this.element.nextElementSibling;!p(e)&&e.classList.contains(R);)e=e.nextElementSibling;return e},i.prototype.setCloseOnDocumentClick=function(){this.closeOnDocumentClick?(document.addEventListener("mousedown",this.documentClickContext),document.addEventListener("touchstart",this.documentClickContext)):(document.removeEventListener("mousedown",this.documentClickContext),document.removeEventListener("touchstart",this.documentClickContext))},i.prototype.setWidth=function(){this.enableDock&&this.position==="Left"?m(this.element,{width:this.setDimension(this.dockSize)}):this.enableDock&&this.position==="Right"?m(this.element,{width:this.setDimension(this.dockSize)}):this.enableDock||m(this.element,{width:this.setDimension(this.width)})},i.prototype.setDimension=function(e){return typeof e=="number"?e=S(e):typeof e=="string"?e=e.match(/px|%|em/)?e:S(e):e="100%",e},i.prototype.setZindex=function(){m(this.element,{"z-index":""+this.zIndex})},i.prototype.addClass=function(){this.element.tagName==="EJS-SIDEBAR"&&a([this.element],te);var e=document.querySelector(".e-main-content");p(e||this.targetEle)||a([e||this.targetEle],[ie]),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):null,!this.enableDock&&this.type!=="Auto"&&a([this.element],[j]),d([this.element],[u,f,x,D,C,v,k]),this.element.classList.add(R),a([this.element],this.position==="Right"?x:D),this.enableDock&&a([this.element],Y),p(this.tabIndex)||this.element.setAttribute("tabindex",this.tabIndex),this.type==="Auto"&&!g.isDevice&&this.checkMediaQuery()?this.show():this.isOpen||a([this.element],[f,E])},i.prototype.checkType=function(e){this.type==="Push"||this.type==="Over"||this.type==="Slide"?!this.element.classList.contains(f)&&!e&&this.hide():this.type="Auto"},i.prototype.transitionEnd=function(e){this.setDock(),!p(e)&&!this.firstRender&&this.triggerChange(),this.firstRender=!1,b.remove(this.element,"transitionend",this.transitionEnd)},i.prototype.destroyBackDrop=function(){var e=document.querySelector(".e-main-content")||this.targetEle;this.target&&this.showBackdrop&&e&&!p(this.defaultBackdropDiv)?d([this.defaultBackdropDiv],A):this.showBackdrop&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null)},i.prototype.hide=function(e){var t=this,s={model:this,element:this.element,cancel:!1,isInteracted:!p(e),event:e||null};this.trigger("close",s,function(r){if(!r.cancel){if(t.element.classList.contains(f))return;t.element.classList.contains(u)&&!t.animate&&t.triggerChange(),a([t.element],f),d([t.element],u),m(t.element,{width:S(t.enableDock?t.dockSize:t.width)}),t.setType(t.type);var c=document.querySelector(".e-main-content")||t.targetEle;!t.enableDock&&c&&(c.style.transform="translateX(0px)",c.style[t.position==="Left"?"marginLeft":"marginRight"]="0px"),t.destroyBackDrop(),t.setAnimation(),t.type==="Slide"&&document.body.classList.remove("e-sidebar-overflow"),t.setProperties({isOpen:!1},!0),t.enableDock&&setTimeout(function(){return t.setTimeOut()},50),b.add(t.element,"transitionend",t.transitionEnd,t)}})},i.prototype.setTimeOut=function(){var e=document.querySelector(".e-main-content")||this.targetEle,t=this.element.getBoundingClientRect().width;this.element.classList.contains(u)&&e&&!(this.type==="Over"&&this.enableDock)?this.position==="Left"?e.style.marginLeft=this.setDimension(this.width==="auto"?t:this.width):e.style.marginRight=this.setDimension(this.width==="auto"?t:this.width):this.element.classList.contains(f)&&e&&(this.position==="Left"?e.style.marginLeft=this.setDimension(this.dockSize==="auto"?t:this.dockSize):e.style.marginRight=this.setDimension(this.dockSize==="auto"?t:this.dockSize))},i.prototype.show=function(e){var t=this,s={model:this,element:this.element,cancel:!1,isInteracted:!p(e),event:e||null};this.trigger("open",s,function(r){if(!r.cancel){if(d([t.element],[j,E]),t.element.classList.contains(u))return;t.element.classList.contains(f)&&!t.animate&&t.triggerChange(),a([t.element],[u,T]),m(t.element,{transform:""}),d([t.element],f),m(t.element,{width:S(t.width)}),t.setType(t.type),t.createBackDrop(),t.setAnimation(),t.type==="Slide"&&document.body.classList.add("e-sidebar-overflow"),t.setProperties({isOpen:!0},!0),b.add(t.element,"transitionend",t.transitionEnd,t)}})},i.prototype.setAnimation=function(){this.animate?d([this.element],E):a([this.element],E)},i.prototype.triggerChange=function(){var e={name:"change",element:this.element};this.trigger("change",e)},i.prototype.setDock=function(){this.enableDock&&this.position==="Left"&&!this.getState()?m(this.element,{transform:"translateX(-100%) translateX("+this.setDimension(this.dockSize)+")"}):this.enableDock&&this.position==="Right"&&!this.getState()&&m(this.element,{transform:"translateX(100%) translateX(-"+this.setDimension(this.dockSize)+")"}),this.element.classList.contains(f)&&this.enableDock&&m(this.element,{width:this.setDimension(this.dockSize)})},i.prototype.createBackDrop=function(){if(this.target&&this.showBackdrop&&this.getState()){var e=this.target,t=document.querySelector(".e-main-content")||this.targetEle;this.defaultBackdropDiv=this.createElement("div"),a([this.defaultBackdropDiv],A),m(this.defaultBackdropDiv,{height:e.style.height}),t.appendChild(this.defaultBackdropDiv)}else this.showBackdrop&&!this.modal&&this.getState()&&(this.modal=this.createElement("div"),this.modal.className=A,this.modal.style.display="block",document.body.appendChild(this.modal))},i.prototype.getPersistData=function(){return this.addOnPersist(["type","position","isOpen"])},i.prototype.getModuleName=function(){return"sidebar"},i.prototype.toggle=function(){this.element.classList.contains(u)?this.hide():this.show()},i.prototype.getState=function(){return!!this.element.classList.contains(u)},i.prototype.setMediaQuery=function(){if(this.mediaQuery){var e=!1;typeof this.mediaQuery=="string"?e=window.matchMedia(this.mediaQuery).matches:e=this.mediaQuery.matches,e&&this.windowWidth!==window.innerWidth?this.show():this.getState()&&this.windowWidth!==window.innerWidth&&this.hide()}},i.prototype.checkMediaQuery=function(){return p(this.mediaQuery)?!0:typeof this.mediaQuery=="string"?window.matchMedia(this.mediaQuery).matches:this.mediaQuery.matches},i.prototype.resize=function(){!p(this.width)&&this.width!=="auto"&&typeof this.width=="string"&&!this.width.includes("px")&&this.setType(this.type),this.type==="Auto"&&(g.isDevice?a([this.element],k):a([this.element],v)),this.setMediaQuery(),g.isDevice&&(this.windowWidth=window.innerWidth)},i.prototype.documentclickHandler=function(e){q(e.target,"."+V+"."+R)||this.hide(e)},i.prototype.enableGestureHandler=function(e){!this.isOpen&&this.position==="Left"&&e.swipeDirection==="Right"&&e.startX<=20&&e.distanceX>=50&&e.velocity>=.5?this.show():this.isOpen&&this.position==="Left"&&e.swipeDirection==="Left"?this.hide(e.originalEvent):this.isOpen&&this.position==="Right"&&e.swipeDirection==="Right"?this.hide(e.originalEvent):!this.isOpen&&this.position==="Right"&&e.swipeDirection==="Left"&&window.innerWidth-e.startX<=20&&e.distanceX>=50&&e.velocity>=.5&&this.show()},i.prototype.setEnableGestures=function(){this.enableGestures?(this.mainContentEle=new _(document.body,{swipe:this.enableGestureHandler.bind(this)}),this.sidebarEle=new _(this.element,{swipe:this.enableGestureHandler.bind(this)})):this.mainContentEle&&this.sidebarEle&&(this.mainContentEle.destroy(),this.sidebarEle.destroy())},i.prototype.wireEvents=function(){this.setEnableGestures(),b.add(window,"resize",this.resize,this)},i.prototype.unWireEvents=function(){b.remove(window,"resize",this.resize),b.remove(document,"mousedown touchstart",this.documentclickHandler),this.mainContentEle&&this.mainContentEle.destroy(),this.sidebarEle&&this.sidebarEle.destroy()},i.prototype.onPropertyChanged=function(e,t){for(var s=document.querySelector(".e-main-content")||this.targetEle,r=this.isServerRendered,c=0,y=Object.keys(e);c<y.length;c++){var O=y[c];switch(O){case"isOpen":this.isOpen?this.show():this.hide();break;case"width":this.setWidth(),this.getState()||this.setDock();break;case"animate":this.setAnimation();break;case"type":this.checkType(!1),d([this.element],[j]),this.addClass(),a([this.element],this.type==="Auto"?g.isDevice?["e-over"]:["e-push"]:["e-"+this.type.toLowerCase()]);break;case"position":this.element.style.transform="",this.setDock(),s&&(s.style[this.position==="Left"?"marginRight":"marginLeft"]="0px"),this.position==="Right"?(d([this.element],D),a([this.element],x)):(d([this.element],x),a([this.element],D)),this.setType(this.type);break;case"showBackdrop":this.showBackdrop?this.createBackDrop():this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null);break;case"target":typeof this.target=="string"&&this.setProperties({target:document.querySelector(this.target)},!0),p(this.target)&&(d([this.element],I),d([t.target],N),m(s,{"margin-left":0,"margin-right":0}),document.body.insertAdjacentElement("afterbegin",this.element)),this.isServerRendered=!1,n.prototype.refresh.call(this),this.isServerRendered=r;break;case"closeOnDocumentClick":this.setCloseOnDocumentClick();break;case"enableDock":this.getState()||this.setDock();break;case"zIndex":this.setZindex();break;case"mediaQuery":this.setMediaQuery();break;case"enableGestures":this.setEnableGestures();break;case"enableRtl":this.setEnableRTL();break}}},i.prototype.setType=function(e){var t=this.element.getBoundingClientRect().width;this.setZindex();var s=document.querySelector(".e-main-content")||this.targetEle;s&&(s.style.transform="translateX(0px)",!g.isDevice&&this.type!=="Auto"&&!(this.type==="Over"&&this.enableDock)&&(s.style[this.position==="Left"?"marginLeft":"marginRight"]="0px"));var r=(this.position==="Left",t+"px"),c=this.position==="Left"?t:-t;switch(d([this.element],[v,k,C]),e){case"Push":a([this.element],[v]),s&&(this.enableDock||this.element.classList.contains(u))&&(s.style[this.position==="Left"?"marginLeft":"marginRight"]=r);break;case"Slide":a([this.element],[C]),s&&(this.enableDock||this.element.classList.contains(u))&&(s.style.transform="translateX("+c+"px)");break;case"Over":a([this.element],[k]),this.enableDock&&(this.element.classList.contains(f)||this.isOpen)&&s&&(s.style[this.position==="Left"?"marginLeft":"marginRight"]=this.setDimension(this.dockSize));break;case"Auto":a([this.element],[T]),g.isDevice?s&&this.enableDock&&!this.getState()?(s.style[this.position==="Left"?"marginLeft":"marginRight"]=r,a([this.element],v)):a([this.element],k):(a([this.element],v),s&&(this.enableDock||this.element.classList.contains(u))&&(s.style[this.position==="Left"?"marginLeft":"marginRight"]=r)),this.createBackDrop()}},i.prototype.destroy=function(){n.prototype.destroy.call(this),this.target&&d([this.target],N),this.destroyBackDrop(),this.element&&(d([this.element],[u,f,v,C,k,D,x,T,E]),d([this.element],I),this.element.style.width="",this.element.style.zIndex="",this.element.style.transform="",p(this.sidebarEleCopy.getAttribute("tabindex"))?this.element.removeAttribute("tabindex"):this.element.setAttribute("tabindex",this.tabIndex)),this.windowWidth=null;var e=document.querySelector(".e-main-content")||this.targetEle;p(e)||(e.style.margin="",e.style.transform=""),this.unWireEvents()},l([h("auto")],i.prototype,"dockSize",void 0),l([h(null)],i.prototype,"mediaQuery",void 0),l([h(!1)],i.prototype,"enableDock",void 0),l([h("en-US")],i.prototype,"locale",void 0),l([h(!1)],i.prototype,"enablePersistence",void 0),l([h(!0)],i.prototype,"enableGestures",void 0),l([h(!1)],i.prototype,"isOpen",void 0),l([h(!1)],i.prototype,"enableRtl",void 0),l([h(!0)],i.prototype,"animate",void 0),l([h("auto")],i.prototype,"height",void 0),l([h(!1)],i.prototype,"closeOnDocumentClick",void 0),l([h("Left")],i.prototype,"position",void 0),l([h(null)],i.prototype,"target",void 0),l([h(!1)],i.prototype,"showBackdrop",void 0),l([h("Auto")],i.prototype,"type",void 0),l([h("auto")],i.prototype,"width",void 0),l([h(1e3)],i.prototype,"zIndex",void 0),l([w()],i.prototype,"created",void 0),l([w()],i.prototype,"close",void 0),l([w()],i.prototype,"open",void 0),l([w()],i.prototype,"change",void 0),l([w()],i.prototype,"destroyed",void 0),i=l([G],i),i}(U),ne=function(){var n=function(i,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var r in s)s.hasOwnProperty(r)&&(t[r]=s[r])},n(i,e)};return function(i,e){n(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),M=function(n){ne(i,n);function i(e){var t=n.call(this,e)||this;return t.initRenderCalled=!1,t.checkInjectedModules=!0,t.statelessTemplateProps=null,t.templateProps=null,t.immediateRender=!0,t.isReactMock=!0,t.portals=[],t}return i.prototype.render=function(){if(this.isReactMock=!1,(this.element&&!this.initRenderCalled||this.refreshing)&&!this.isReactForeceUpdate)n.prototype.render.call(this),this.initRenderCalled=!0;else return L.createElement("div",this.getDefaultAttributes(),[].concat(this.props.children,this.portals))},i}(se);Z(M,[K,L.Component]);const ce=()=>{let n;const i=()=>{n?(console.log("Waiting 500ms before toggling sidebar..."),setTimeout(()=>{n.toggle()},500)):console.warn("Sidebar reference is not available.")};return o.jsxs("div",{className:"mobile-sidebar wrapper",children:[o.jsxs("header",{children:[o.jsxs(P,{to:"/",children:[o.jsx("img",{src:"/assets/icons/cosmos.png",alt:"Logo",className:"size-[30px]"}),o.jsx("h1",{children:"THE AKS"})]}),o.jsx("button",{onClick:i,children:o.jsx("img",{src:"/assets/icons/menu.svg",alt:"menu",className:"size-7"})})]}),o.jsx(M,{width:270,ref:e=>n=e,created:()=>{n&&(console.log("Sidebar created, hiding it by default."),n.hide())},closeOnDocumentClick:!0,showBackdrop:!0,type:"over",children:o.jsx($,{handleClick:i})})]})};export{ce as M,$ as N,M as S};
